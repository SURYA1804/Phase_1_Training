<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Payment - Leo Foods</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>
<body class="d-flex justify-content-center align-items-center vh-100 bg-light">
  <div class="card p-4 shadow" style="width: 400px;">
    <h4 class="text-center mb-4 text-success">Make Payment</h4>
    <p class="text-muted text-center">Total: â‚¹<span id="totalAmount">0</span></p>
    <button class="btn btn-success w-100" onclick="makePayment()">Pay Now</button>
  </div>

  <script>
    const username = localStorage.getItem("Username");
    const total = localStorage.getItem("totalAmount") || 0;
    const cartItems = JSON.parse(localStorage.getItem("cart")) || [];
    document.getElementById("totalAmount").textContent = total;
    const order = {
  orderId: 'ORD' + Date.now(),
  username: username,
  items: cartItems
};

const allOrders = JSON.parse(localStorage.getItem("orders") || "[]");
allOrders.push(order);
localStorage.setItem("orders", JSON.stringify(allOrders));

    function makePayment() {
  Swal.fire({
    icon: 'success',
    title: 'Payment Successful!',
    text: 'Thank you for your order.',
    confirmButtonText: 'View Orders',
    confirmButtonColor: '#28a745'
  }).then(() => {
    localStorage.removeItem("cart");
    window.location.href = "orders.html";
  });
}



    
  </script>
</body>
</html>
